{
  "intents": [
    {
      "intent": "LOGIN",
      "action": "auth.login",
      "summary": "Authenticate user with ID and Password",
      "parameters": [
        {
          "entity": "userId",
          "type": "string",
          "required": true,
          "source": "UI.Input"
        },
        {
          "entity": "password",
          "type": "string",
          "required": true,
          "source": "UI.Input"
        }
      ],
      "context": {
        "lifespan": 1,
        "pre_conditions": [],
        "output_contexts": [
          "user_authenticated"
        ]
      },
      "business_logic": {
        "rules": [
          "Validate that ID and Password are not empty.",
          "Simulate server authentication delay (1500ms).",
          "On Success: Set 'isLoggedIn' to true and store 'user_id' in local storage.",
          "Redirect user to the main dashboard (index.html)."
        ],
        "data_flow": "UI Input -> Validation -> Mock Auth Service -> LocalStorage Update -> Navigation"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/login.html"
        ],
        "logic_snippets": "doLogin() -> localStorage.setItem() -> location.href"
      }
    },
    {
      "intent": "FETCH_INVENTORY",
      "action": "inventory.fetch",
      "summary": "Retrieve inventory data from external source and initialize the list",
      "parameters": [],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "user.is_authenticated == true"
        ],
        "output_contexts": [
          "inventory_loaded"
        ]
      },
      "business_logic": {
        "rules": [
          "Display loading overlay.",
          "Fetch data from external API (https://jsonplaceholder.typicode.com/posts).",
          "Map API response to global inventory state (G_DATA).",
          "Duplicate data 6 times to simulate heavy load for performance testing.",
          "Render the inventory list to the DOM."
        ],
        "data_flow": "UI -> AJAX GET Request -> G_DATA Update -> Data Duplication -> renderList()"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "fetchInventory() -> $.ajax() -> renderList()"
      }
    },
    {
      "intent": "SEARCH_ITEMS",
      "action": "inventory.search",
      "summary": "Filter the displayed inventory list based on a search query",
      "parameters": [
        {
          "entity": "query",
          "type": "string",
          "required": true,
          "source": "UI.Input"
        }
      ],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "inventory_loaded == true"
        ],
        "output_contexts": []
      },
      "business_logic": {
        "rules": [
          "Retrieve search query from input field.",
          "Iterate through all rendered list items.",
          "Hide items that do not contain the query text (case-insensitive).",
          "Show items that match the query."
        ],
        "data_flow": "UI Input -> DOM Traversal -> Conditional Visibility Toggle"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "searchItems() -> $.each() -> .toggle()"
      }
    },
    {
      "intent": "VIEW_ITEM_DETAIL",
      "action": "inventory.view_detail",
      "summary": "Display details of a specific inventory item",
      "parameters": [
        {
          "entity": "item_id",
          "type": "string",
          "required": true,
          "source": "UI.Event"
        }
      ],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "inventory_loaded == true"
        ],
        "output_contexts": []
      },
      "business_logic": {
        "rules": [
          "Identify item by ID from the global state (G_DATA).",
          "Display item ID and Title in an alert dialog."
        ],
        "data_flow": "UI Click -> findItemById() -> Alert Display"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "itemDetail() -> findItemById() -> alert()"
      }
    },
    {
      "intent": "EDIT_ITEM",
      "action": "inventory.update_item",
      "summary": "Update the title of an existing inventory item",
      "parameters": [
        {
          "entity": "item_id",
          "type": "string",
          "required": true,
          "source": "UI.Event"
        },
        {
          "entity": "new_name",
          "type": "string",
          "required": true,
          "source": "UI.Prompt"
        }
      ],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "inventory_loaded == true"
        ],
        "output_contexts": []
      },
      "business_logic": {
        "rules": [
          "Locate item in global state (G_DATA) using ID.",
          "Prompt user to enter a new title.",
          "Validate that the new title is not empty.",
          "Simulate API delay (500ms) with loading overlay.",
          "Update the item's title in the global state.",
          "Re-render the entire inventory list to reflect changes."
        ],
        "data_flow": "UI Click -> Prompt -> State Update -> DOM Re-render"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "editItem() -> prompt() -> renderList()"
      }
    },
    {
      "intent": "DELETE_ITEM",
      "action": "inventory.delete_item",
      "summary": "Remove an item from the inventory",
      "parameters": [
        {
          "entity": "item_id",
          "type": "string",
          "required": true,
          "source": "UI.Event"
        }
      ],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "inventory_loaded == true"
        ],
        "output_contexts": []
      },
      "business_logic": {
        "rules": [
          "Request user confirmation via dialog.",
          "Simulate API delay (500ms) with loading overlay.",
          "Filter the global state (G_DATA) to exclude the target item.",
          "Update global state with the filtered list.",
          "Re-render the entire inventory list."
        ],
        "data_flow": "UI Click -> Confirmation -> State Filtering -> DOM Re-render"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "deleteItem() -> confirm() -> renderList()"
      }
    },
    {
      "intent": "TAKE_PHOTO",
      "action": "device.camera.capture",
      "summary": "Capture a photo and display it in the list",
      "parameters": [],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "device.has_camera == true"
        ],
        "output_contexts": [
          "photo_captured"
        ]
      },
      "business_logic": {
        "rules": [
          "Show loading overlay.",
          "Invoke the device camera to capture an image.",
          "On Success: Store Base64 image data in global cache (G_IMG_CACHE).",
          "Prepend the captured image to the top of the inventory list view.",
          "Display success alert."
        ],
        "data_flow": "UI Click -> Camera API -> G_IMG_CACHE -> DOM Manipulation"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "takePhoto() -> navigator.camera.getPicture()"
      }
    },
    {
      "intent": "SCAN_BARCODE",
      "action": "device.scanner.scan",
      "summary": "Scan a barcode and display the result",
      "parameters": [],
      "context": {
        "lifespan": 5,
        "pre_conditions": [
          "device.has_scanner == true"
        ],
        "output_contexts": [
          "barcode_scanned"
        ]
      },
      "business_logic": {
        "rules": [
          "Invoke the barcode scanner plugin.",
          "On Success: Capture scanned text and format.",
          "Store scanned text in global state (G_LAST_SCAN).",
          "Prepend the scan result to the top of the inventory list view.",
          "Display alert with scan details."
        ],
        "data_flow": "UI Click -> Scanner API -> G_LAST_SCAN -> DOM Manipulation"
      },
      "legacy_references": {
        "sources": [
          "legacy_src/www/js/app.js"
        ],
        "logic_snippets": "scanBarcode() -> cordova.plugins.barcodeScanner.scan()"
      }
    }
  ]
}
